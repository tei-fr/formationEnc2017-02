<?xml version="1.0" encoding="UTF-8"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0">
  <teiHeader>
    <fileDesc>
      <titleStmt>
        <title xml:lang="en">ODD for customization</title>
        <title xml:lang="fr" rend="slide">Personnalisation avec ODD</title>
        <author xml:id="LB">Lou Burnard Consulting</author>
      </titleStmt>
      <publicationStmt>
        <p xml:lang="fr" rend="slide">Préparé pour ENC niv2 2017</p>
      </publicationStmt>
      <sourceDesc>
        <p>Translated from ODD MuteC 2014 which was majoritairement nouveau!</p>
      </sourceDesc>
    </fileDesc>
    <revisionDesc>
      <change who="#LB" when="2015-02-26">Added Fr versions back</change>
      <change who="#LB" when="2014-10-11">Add english trans</change>
      <change who="#LB" when="2014-02-21">1er jet</change>
    </revisionDesc>
  </teiHeader>
  <text>
    <front>
      <titlePage xml:lang="fr" rend="slide">
        <titlePart>08-Personnalisation avec ODD</titlePart>
        <docImprint>Formation TEI | ENC 27 fév - 2 mars 2017</docImprint>
        <note><ref target="https://github.com/tei-fr/formationEnc2017-02">Répertoire
          GitHub</ref> | <ref target="00-programme.html">Programme</ref></note>
      </titlePage>
      <div rend="title" xml:lang="fr"  xml:id="index">
        <div>
          <head>Personnalisation avec ODD</head>
        </div>
        
      </div>
    </front>
    <body>
      <div xml:lang="en">
        <head>ODD is also a customization language </head>
        <p>It is used both to specify your choices from the TEI framework, and to specify the
          framework itself</p>
        <p>A customization ODD specifies a selection or modification of the objects provided by
          another ODD, typically (but not necessarily) some release of the whole TEI framework by <list>
 <item>selecting some modules</item>
 <item>selecting or deleting some of the objects defined by those modules (éléments,
   classes, datatypes, macros) </item>
 <item>selecting or deleting some attributes </item>
 <item>modifying or replacing some parts of the original specification (e.g. a valList or
   an example)</item>
 <item>possibly adding entirely new objects</item>
          </list></p>
        <p>A customization ODD will often contain multiple specifications for the same object: one
          original, and one modified. ODD processing must unify these, following rules we will
          explain later. </p>
      </div>
      <div xml:lang="fr" rend="slide">
        <head>ODD est aussi une langage de personnalisation </head>
        <p>On se sert du même système pour spécifier ses choix dans le grand bazar de la TEI et pour
          spécifier le bazar lui-même.</p>
        <p>Un ODD de personnalisation est spécifié par rapport à un autre ODD ; typiquement mais pas forcément celui aui définit la version actuelle des Guidelines<list>
 <item>en sélectionnant des modules</item>
 <item>en sélectionnant parmi les objets (éléments, classes, datatypes, macros) fournis
   par ces modules</item>
 <item>en supprimant quelques uns des attributs fournis par ces objets</item>
 <item>en modifiant ou remplaçant quelques parties de ces spécifications (par ex. les
   valList)</item>
 <item>éventuellement en ajoutant des spécifications d’objets nouveaux</item>
          </list></p>
       
      </div>
      <div xml:lang="en">
        <head>How to make an ODD</head>
        <p>An ODD is just a TEI document, so you can make it anyway you like. But the following
          three ways are the most usual: <list>
 <item>Simple but limited web interface : http://www.tei-c.org/Roma</item>
 <item>Create automatically from your corpus : oddByExample stylesheet</item>
 <item>Manually edit</item>
          </list></p>
        <p>Each has advantages and drawbacks: we'll explore all three.</p>
      </div>
      
      <div xml:lang="fr" rend="slide">
        <!-- a traduire -->
      </div>
      
      
      <div xml:lang="en">
        <head>A simple customization example</head>
        <p>As you've already seen, we use the <gi>schemaSpec</gi> element to specify a schema,
          either a completely new one, or a customization. </p>
        <list>
          <item>The mandatory <att>ident</att> attribute gives a name for the schema</item>
          <item>The <att>start</att> attribute indicates the name or names of the root element/s of
 the schema</item>
          <item>The <att>source</att> attribute identifies the location of the TEI source being
 customized (this might be a specific version of TEI P5, or an existing customization
 ODD) </item>
          <item>The <att>docLang</att> and <att>targetLang</att> attributes can be used to select
 the language to be used for element descriptions and element names respectively, where
 translations are available</item>
        </list>
        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="tiny">
          <schemaSpec start="TEI" ident="testschema" source="tei:1.5.0" docLang="fr">
 <!-- declarations -->
          </schemaSpec>
        </egXML>
      </div>
      <div xml:lang="fr" rend="slide">
        <head>Création d’un personalisation</head>
        <p>Comme vous le savez déjà, on utilise l’élément <gi>schemaSpec</gi> pour spécifier un
          schéma: qu'il soit vierge, ou personnalisé. </p>
        <list>
          <item>L’attribut <att>ident</att> obligatoire fournit un nom pour le schéma</item>
          <item>L’attribut <att>start</att> indique le ou les noms des élément(s) racine(s) du
 schéma </item>
          <item>L’attribut <att>source</att> indique l’emplacement de la source TEI dans le cas
 d’une personnalisation (par ex une version spécifique de TEI P5) </item>
          <item>Les attributs <att>docLang</att> et <att>targetLang</att> permettent la sélection
 des langues à utiliser pour les descriptions d’éléments et pour les noms d’élément
 respectivement, en supposant la présence dans cette source des traductions
 requises</item>
        </list>
        <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="tiny">
          <schemaSpec start="TEI" ident="testschema" source="tei:1.5.0" docLang="fr">
 <!-- declarations -->
          </schemaSpec>
        </egXML>
      </div>
      <div xml:lang="fr" rend="slide">
        <head>Composants d’un schemaSpec</head>
        <list>
          <item><label>moduleRef</label> : un ensemble d'objets fournis par un module</item>
          <item><label>elementSpec</label>, <label>dataSpec</label>, <label>macroSpec</label> (etc.) : des objets nouveaux </item>
          <item><label>elementRef</label>, <label>dataRef</label>, <label>macroRef</label>(etc.) : des objet déjà existant quelque part</item>
        </list>
        <p>La location des objets référencés est specifiée par un attribut <att>source</att> : par défaut il s'agit de la version
        la plus récente de TEI P5</p>
        
      </div>
      <div xml:lang="en">
        <head>Choosing by exclusion</head>
        <p>You can specify just the elements you want to exclude, and take all the rest:
          <egXML xmlns="http://www.tei-c.org/ns/Examples">
 <schemaSpec start="TEI" ident="testschema">
   <moduleRef key="core" except="mentioned quote said"/>
   <moduleRef key="header"/>
   <moduleRef key="textstructure"/>
 </schemaSpec>
          </egXML>
        </p>
        <p>also expressible as:
          <egXML xmlns="http://www.tei-c.org/ns/Examples">
 <schemaSpec start="TEI" ident="testschema">
   <moduleRef key="core"/>
   <moduleRef key="header"/>
   <moduleRef key="textstructure"/>
   <elementSpec ident="mentioned" mode="delete"/>
   <elementSpec ident="quote" mode="delete"/>
   <elementSpec ident="said" mode="delete"/>
 </schemaSpec>
          </egXML>
        </p>
      </div>
      <div xml:lang="fr" rend="slide">
        <head>Sélection par exclusion</head>
        <p> Vous pouvez spécifier les éléments que vous souhaitez supprimer parmi ceux proposés par
          un module :
          <egXML xmlns="http://www.tei-c.org/ns/Examples">
 <schemaSpec start="TEI" ident="testschema">
   <moduleRef key="core" except="mentioned quote said"/>
   <moduleRef key="header"/>
   <moduleRef key="textstructure"/>
 </schemaSpec>
          </egXML>
        </p>
        <p>ou également :
          <egXML xmlns="http://www.tei-c.org/ns/Examples">
 <schemaSpec start="TEI" ident="testschema">
   <moduleRef key="core"/>
   <moduleRef key="header"/>
   <moduleRef key="textstructure"/>
   <elementSpec ident="mentioned" mode="delete"/>
   <elementSpec ident="quote" mode="delete"/>
   <elementSpec ident="said" mode="delete"/>
 </schemaSpec>
          </egXML>
        </p>
        <p>(L’attribut <att>mode</att> contrôle la résolution de déclarations multiples)</p>
      </div>
      <div xml:lang="en">
        <head>Choosing by inclusion</head>
        <p>You can specify just the elements you want to include, and suppress all the rest :
          <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="tiny">
 <schemaSpec start="TEI" ident="testschema">
   <moduleRef key="core"/>
   <moduleRef key="header"/>
   <moduleRef key="textstructure" include="body div"/>
 </schemaSpec>
          </egXML>
        </p>
        <p>also expressible as :
          <egXML xmlns="http://www.tei-c.org/ns/Examples" rend="tiny">
 <schemaSpec start="TEI" ident="testschema">
   <moduleRef key="core"/>
   <moduleRef key="header"/>
   <elementRef key="div"/>
   <elementRef key="body"/>
 </schemaSpec></egXML>
        </p>
        <p rend="box">Take care ! a module can define classes or macros as well as elements.
 <att>include</att> and <att>except</att> apply <emph>only</emph> to elements!</p>
      </div>
      <div xml:lang="fr" rend="slide">
        <head>Sélection par inclusion</head>
        <p>Vous pouvez spécifier les éléments que vous souhaitez inclure parmi ceux qui sont
          proposés par un module :
          <egXML xmlns="http://www.tei-c.org/ns/Examples">
 <schemaSpec start="TEI" ident="testschema">
   <moduleRef key="core"/>
   <moduleRef key="header"/>
   <moduleRef key="textstructure" include="body div"/>
 </schemaSpec>
          </egXML>
        </p>
        <p>ou également :
          <egXML xmlns="http://www.tei-c.org/ns/Examples">
 <schemaSpec start="TEI" ident="testschéma">
   <moduleRef key="core"/>
   <moduleRef key="header"/>
   <elementRef key="div"/>
   <elementRef key="body"/>
 </schemaSpec></egXML>
        </p>
        <p rend="box">Attention ! un module peut définir d’autres choses que des éléments. Les
          attributs <att>include</att> et <att>except</att> ne s’appliquent qu'aux éléments</p>
      </div>
      <div xml:lang="fr" rend="slide">
        <p>Le traitement d’un ODD implique la résolution de spécifications multiples pour un même
          objet</p>
      </div>
      <div xml:lang="fr" rend="slide">
        <p>On peut recombiner des composants de plusieurs sources
         </p>
      </div>
      
      
      
      <div xml:lang="en">
        <head>First customization exercise </head>
        <p>Let's try to make a really simple schema called <ident>featherLite</ident> which might be
          used to markup a linguistic corpus. </p>
        <list>
          <item>The TEI header will contain only the minimum required for TEI conformance
 (specifically: <gi>teiHeader </gi><gi>fileDesc</gi>
 <gi>titleStmt</gi>
 <gi>publicationStmt</gi>
 <gi>sourceDesc</gi> and <gi>title</gi>) </item>
          <item>The <gi>text</gi> element will contain just a <gi>body</gi>, composed of
   <gi>div</gi>s containing <gi>ab</gi>s </item>
          <item>The <gi>ab</gi> elements will contain <gi>s</gi> elements composed of <gi>w</gi> or
   <gi>pc</gi> elements. </item>
          <item>The only attributes we want are <att>xml:id</att>, <att>xml:lang</att>,
   <att>type</att>, and <att>subtype</att></item>
        </list>
        <p>You'll do an exercise like this in the next session. For the moment, think about how you
          might write the <gi>schemaSpec</gi> you'll need.</p>
      </div>
      <div xml:lang="en">
        <head>Exercice de personnalisation </head>
        <p>Nous proposons de créer un schéma <ident>featherLite</ident> très simple, pour un projet
          de corpus langagier. </p>
        <list>
          <item>L’entête TEI ne possédera que les composants essentiels à sa conformité (à savoir :
   <gi>teiHeader </gi><gi>fileDesc</gi>
 <gi>titleStmt</gi>
 <gi>publicationStmt</gi>
 <gi>sourceDesc</gi> et <gi>title</gi>) </item>
          <item>L’élément <gi>text</gi> est composé d’un seul <gi>body</gi> contenant des
   <gi>div</gi>s contenant un ou plus d’éléments <gi>ab</gi>
          </item>
          <item>Chaque <gi>ab</gi> ne permet qu'une séquence d’éléments <gi>s</gi></item>
          <item>Chaque <gi>s</gi> est composé d’éléments <gi>w</gi> et <gi>pc</gi> elements. </item>
          <item>et nous souhaitons supprimer la majorité des attributs, en gardant notamment
   <att>xml:id</att>, <att>xml:lang</att>, <att>type</att>, <att>subtype</att>
          </item>
        </list>
      </div>
      <div xml:lang="en">
        <head>First customization exercise (contd.)</head>
        <list>
          <item>Open the file <ident>feather-1.odd</ident> with oXygen and check that you understand
 what it is doing</item>
          <item> Use oXygen to generate a schema from it in your favourite schema language. </item>
          <item>Create a new TEI XML document using this schema. Check what elements and attributes
 the schema makes available. </item>
        </list>
      </div>
      <div xml:lang="fr" rend="slide">
        <head>Exercice de personnalisation (1) </head>
        <list>
          <item>Ouvrez le fichier <ident>feather-1.odd</ident> avec oXygen</item>
          <item>Testez votre compréhension de ce fichier</item>
          <item>Utilisez oXygen pour en générer un schéma dans votre langage de schéma préférée </item>
          <item>Créez un nouveau document TEI XML qui utilise ce schéma</item>
          <item>Vérifiez les éléments et les attributs disponibles </item>
        </list>
      </div>
      <div xml:lang="fr" rend="slide">
        <!-- no eng equiv -->
        <head>Exercice un peu plus avancé</head>
        <p>Continuons de personnaliser le schéma feather... </p>
        <list>
          <item>Supprimez tous les attributs globaux sauf <att>style</att>
 <att>xml:id</att> et <att>xml:lang</att></item>
          <item>Supprimez l’élément <gi>title</gi> du body, mais non pas du Header</item>
          <item>Ajoutez l’élément <gi>span</gi> et assurez vous que ces règles schematron sont
 prises en compte dans votre schéma </item>
          <item>Modifiez le contenu de <gi>s</gi> pour ne permettre que des <gi>w</gi></item>
          <item>Ajouter un nouveau élément <gi>mw</gi> pour les séquences de mots</item>
        </list>
        <p rend="box">Ma proposition est disponible dans le fichier <ident>feather-final</ident> ...
        </p>
      </div>
      <div xml:lang="en">
        <head>P.S. A word on TEI conformance.</head>
        <p>What does it mean to be TEI-conformant?</p>
        <list>
          <item><label>you must be honest</label> : XML elements in the TEI namespace must respect
 the TEI-defined semantics</item>
          <item><label>you must be explicit</label> : Supplying an ODD is the best way of showing
 exactly what modifications you made in your TEI customization</item>
        </list>
        <p>More formally... <list>
 <item>Elements from the TEI namespace must be valid with respect to the TEI-ALL
   schema</item>
 <item>Any extension of an existing TEI element should therefore be placed in a different
   namespace</item>
          </list></p>
        <p rend="box">These rules are intended to simplify the "blind interchange" of documents. But
          they don’t guarantee it. .</p>
      </div>
      <div xml:lang="fr" rend="slide">
        <head>Être conforme à la TEI veut dire quoi ?</head>
        <list>
          <item><label>être honnête</label> : Les éléments XML qui sont déclarés comme appartenant
 au namespace TEI doivent respecter les définitions TEI de ces éléments</item>
          <item><label>être explicite</label> : Pour valider un document TEI, un ODD est fortement
 conseillé, parce que cela mettra en évidence toutes les modifications effectuées.</item>
        </list>
        <p>Plus formellement dans un document TEI <list>
 <item>Tout élément appartenant à l’espace de nommage TEI doit être valide par rapport au
   schéma TEI-ALL.</item>
 <item>Toute autre élément présent doit donc appartenir à un autre namespace</item>
          </list></p>
        <p rend="box">L’objet de ces règles est de faciliter le "blind interchange" des
          documents.</p>
      </div>
    </body>
  </text>
</TEI>
